// test_ara_working.aria  
// Test the working ARA implementation

%include "../lib/stdlib/ara_working.aria"

func:main = *int8() {
    print("========================================");
    print("  Aria Runtime Assembler - Demo");
    print("========================================");
    print("");
    print("Encoding: f(x) = (x + 10) - 5");
    print("");
    
    demo_mov_rax_rdi();
    print("");
    
    demo_add_rax_10();
    print("");
    
    demo_sub_rax_5();
    print("");
    
    demo_ret();
    print("");
    
    print("========================================");
    print("Full machine code:");
    print("48 89 F8              MOV RAX, RDI");
    print("48 83 C0 0A           ADD RAX, 10");
    print("48 83 E8 05           SUB RAX, 5");
    print("C3                    RET");
    print("");
    print("Total: 12 bytes");
    print("========================================");
    
    return 0;
};
