// Test control flow macros (no print to avoid crash)

%macro IF 3
if (%1 %2 %3) {
%endmacro

%macro ELSE 0
} else {
%endmacro

%macro END_IF 0
}
%endmacro

func:check = *int32(int32:x) {
    int32:val = 0;
    
    IF(x, >, 10)
        val = 100;
    ELSE
        val = 50;
    END_IF
    
    return val;
};

func:main = *int8() {
    int32:ret = check(15);
    int8:status = 0;
    
    IF(ret, ==, 100)
        status = 1;
    END_IF
    
    return status;
};
