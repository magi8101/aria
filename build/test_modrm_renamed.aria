// Test calc_modrm with renamed variables

// Calculate ModR/M byte
func:calc_modrm_byte = *uint8(int8:reg_field, int8:rm_field, int8:mod_field) {
    int8:modval = 0;
    int8:regval = 0;
    int8:rmval = 0;
    uint8:output = 0;
    
    modval = mod_field & 3;
    regval = reg_field & 7;
    rmval = rm_field & 7;
    
    output = (uint8)modval << 6;
    output |= (uint8)regval << 3;
    output |= (uint8)rmval;
    
    return output;
};

func:main = *int8() {
    uint8:m = calc_modrm_byte(7, 0, 3);
    return 0;
};
