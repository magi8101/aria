// Simple power function test

%macro GEN_POW 1
func:pow_%1 = *%1(%1:base, %1:exp) {
    %1:val = 1;
    %1:i = 0;
    while (i < exp) {
        val = val * base;
        i = i + 1;
    }
    return val;
};
%endmacro

GEN_POW(int32)

func:main = *int8() {
    int32:p = pow_int32(2, 3) ? 0;
    if (p == 8) {
        return 0;
    }
    return 1;
};
