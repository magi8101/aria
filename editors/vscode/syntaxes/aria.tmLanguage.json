{
    "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
    "name": "Aria",
    "scopeName": "source.aria",
    "patterns": [
        {
            "include": "#comments"
        },
        {
            "include": "#strings"
        },
        {
            "include": "#numbers"
        },
        {
            "include": "#keywords"
        },
        {
            "include": "#types"
        },
        {
            "include": "#functions"
        },
        {
            "include": "#variables"
        },
        {
            "include": "#operators"
        },
        {
            "include": "#memory-qualifiers"
        },
        {
            "include": "#constants"
        }
    ],
    "repository": {
        "comments": {
            "patterns": [
                {
                    "name": "comment.line.double-slash.aria",
                    "match": "//.*$"
                },
                {
                    "name": "comment.block.aria",
                    "begin": "/\\*",
                    "end": "\\*/"
                }
            ]
        },
        "strings": {
            "patterns": [
                {
                    "name": "string.quoted.double.aria",
                    "begin": "\"",
                    "end": "\"",
                    "patterns": [
                        {
                            "name": "constant.character.escape.aria",
                            "match": "\\\\."
                        }
                    ]
                },
                {
                    "name": "string.quoted.single.aria",
                    "begin": "'",
                    "end": "'",
                    "patterns": [
                        {
                            "name": "constant.character.escape.aria",
                            "match": "\\\\."
                        }
                    ]
                },
                {
                    "name": "string.template.aria",
                    "begin": "`",
                    "end": "`",
                    "patterns": [
                        {
                            "name": "meta.embedded.expression.aria",
                            "begin": "&\\{",
                            "end": "\\}",
                            "beginCaptures": {
                                "0": {
                                    "name": "punctuation.definition.template-expression.begin.aria"
                                }
                            },
                            "endCaptures": {
                                "0": {
                                    "name": "punctuation.definition.template-expression.end.aria"
                                }
                            },
                            "patterns": [
                                {
                                    "include": "$self"
                                }
                            ]
                        },
                        {
                            "name": "constant.character.escape.aria",
                            "match": "\\\\."
                        }
                    ]
                }
            ]
        },
        "numbers": {
            "patterns": [
                {
                    "name": "constant.numeric.hex.aria",
                    "match": "\\b0[xX][0-9a-fA-F_]+\\b"
                },
                {
                    "name": "constant.numeric.binary.aria",
                    "match": "\\b0[bB][01_]+\\b"
                },
                {
                    "name": "constant.numeric.octal.aria",
                    "match": "\\b0[oO][0-7_]+\\b"
                },
                {
                    "name": "constant.numeric.float.aria",
                    "match": "\\b\\d[\\d_]*\\.\\d[\\d_]*([eE][+-]?\\d[\\d_]*)?\\b"
                },
                {
                    "name": "constant.numeric.integer.aria",
                    "match": "\\b\\d[\\d_]*\\b"
                }
            ]
        },
        "keywords": {
            "patterns": [
                {
                    "name": "keyword.control.aria",
                    "match": "\\b(if|else|when|then|end|till|while|for|in|break|continue|return|fall|pick|case|defer|async|await)\\b"
                },
                {
                    "name": "keyword.declaration.aria",
                    "match": "\\b(func|mod|struct|enum|trait|impl|type|const|var|import|export|pub|priv)\\b"
                },
                {
                    "name": "keyword.other.aria",
                    "match": "\\b(pass|fail|as|is|ref|mut|move|copy)\\b"
                }
            ]
        },
        "types": {
            "patterns": [
                {
                    "name": "storage.type.tbb.aria",
                    "match": "\\b(tbb8|tbb16|tbb32|tbb64|tbb128|tbb256)\\b"
                },
                {
                    "name": "storage.type.balanced.aria",
                    "match": "\\b(trit|tryte|nit|nyte)\\b"
                },
                {
                    "name": "storage.type.integer.aria",
                    "match": "\\b(int1|int2|int4|int8|int16|int32|int64|int128|int256|int512)\\b"
                },
                {
                    "name": "storage.type.unsigned.aria",
                    "match": "\\b(uint1|uint2|uint4|uint8|uint16|uint32|uint64|uint128|uint256|uint512)\\b"
                },
                {
                    "name": "storage.type.float.aria",
                    "match": "\\b(flt16|flt32|flt64|flt128)\\b"
                },
                {
                    "name": "storage.type.primitive.aria",
                    "match": "\\b(bool|char|str|void)\\b"
                },
                {
                    "name": "storage.type.collection.aria",
                    "match": "\\b(array|vec|map|set)\\b"
                },
                {
                    "name": "storage.type.result.aria",
                    "match": "\\b(result|option|future)\\b"
                }
            ]
        },
        "functions": {
            "patterns": [
                {
                    "name": "meta.function.aria",
                    "match": "\\b(func)\\s*(:)\\s*([a-zA-Z_]\\w*)",
                    "captures": {
                        "1": {
                            "name": "keyword.declaration.function.aria"
                        },
                        "2": {
                            "name": "punctuation.separator.aria"
                        },
                        "3": {
                            "name": "entity.name.function.aria"
                        }
                    }
                },
                {
                    "name": "entity.name.function.call.aria",
                    "match": "\\b([a-zA-Z_]\\w*)\\s*(?=\\()"
                }
            ]
        },
        "variables": {
            "patterns": [
                {
                    "name": "meta.variable.declaration.aria",
                    "match": "\\b(var|const)\\s+([a-zA-Z_]\\w*)\\s*(:)\\s*([a-zA-Z_]\\w*)",
                    "captures": {
                        "1": {
                            "name": "storage.type.aria"
                        },
                        "2": {
                            "name": "variable.name.aria"
                        },
                        "3": {
                            "name": "punctuation.separator.type.aria"
                        },
                        "4": {
                            "name": "entity.name.type.aria"
                        }
                    }
                },
                {
                    "name": "variable.other.aria",
                    "match": "\\b[a-zA-Z_]\\w*\\b"
                }
            ]
        },
        "operators": {
            "patterns": [
                {
                    "name": "keyword.operator.arithmetic.aria",
                    "match": "\\+|-|\\*|/|%"
                },
                {
                    "name": "keyword.operator.comparison.aria",
                    "match": "==|!=|<|>|<=|>="
                },
                {
                    "name": "keyword.operator.logical.aria",
                    "match": "&&|\\|\\||!"
                },
                {
                    "name": "keyword.operator.bitwise.aria",
                    "match": "&|\\||\\^|<<|>>|~"
                },
                {
                    "name": "keyword.operator.assignment.aria",
                    "match": "=|\\+=|-=|\\*=|/=|%=|&=|\\|=|\\^=|<<=|>>="
                },
                {
                    "name": "keyword.operator.arrow.aria",
                    "match": "->|=>"
                }
            ]
        },
        "memory-qualifiers": {
            "patterns": [
                {
                    "name": "meta.memory.qualifier.aria",
                    "match": "(@)(wild|gc|stack|wildx)",
                    "captures": {
                        "1": {
                            "name": "keyword.operator.memory.aria"
                        },
                        "2": {
                            "name": "storage.modifier.memory.aria"
                        }
                    }
                },
                {
                    "name": "keyword.operator.pin.aria",
                    "match": "#"
                },
                {
                    "name": "keyword.operator.safe-ref.aria",
                    "match": "\\$"
                }
            ]
        },
        "constants": {
            "patterns": [
                {
                    "name": "constant.language.boolean.aria",
                    "match": "\\b(true|false)\\b"
                },
                {
                    "name": "constant.language.null.aria",
                    "match": "\\bnull\\b"
                },
                {
                    "name": "constant.language.error.aria",
                    "match": "\\bERR\\b"
                }
            ]
        }
    }
}