/* Testing lambda features from canonical spec */

// Basic lambda with closure
int8:closureTest = 2;
func:test = int8(int8:a, int8:b) {
    return {
        err:NULL,
        val:a * b * closureTest
    };
};

/* PHASE 2+ FEATURES - Comment out for now

// Higher-order function - function that takes a function as parameter
func:test2 = int8(func:tt, int8:a, int8:b) {
    return tt(a, b);
};

// Function that returns a function
func:returnFunc = func() {
    return {
        err: NULL,
        val: int8(int8:a, int8:b) { return { err:NULL, val: a*b }; }
    };
};

// Immediate lambda invocation
result:res = int8(int8:a, int8:b) { 
    return { err:NULL, val: a*b }; 
}(10, 2);

*/
