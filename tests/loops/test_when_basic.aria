// Test when loop - tri-state loop with then/end blocks
func:found_handler = int32() {
    pass(1);  // Indicate success
};

func:not_found_handler = int32() {
    pass(0);  // Indicate failure
};

func:main = int32() {
    // When loop: loop body, then block (natural exit), end block (break exit)
    when (1 > 0) {
        found_handler();
    } then {
        // Executes if loop exits naturally (condition becomes false)
        pass(10);
    } end {
        // Executes if loop exits via break
        not_found_handler();
    }
    pass(0);
};
