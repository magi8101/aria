// Test $ variable in till loops
func:test_till_basic = int8() {
    int8:sum = 0;
    till(5, 1) {
        sum = sum + $;
    }
    return sum;  // Should be 0+1+2+3+4 = 10
};

func:test_till_negative_step = int8() {
    int8:sum = 0;
    till(5, -1) {
        sum = sum + $;
    }
    return sum;  // Should be 5+4+3+2+1 = 15
};

func:test_till_larger_step = int8() {
    int8:sum = 0;
    till(10, 2) {
        sum = sum + $;
    }
    return sum;  // Should be 0+2+4+6+8 = 20
};

func:main = int8() {
    int8:r1 = test_till_basic();         // 10
    int8:r2 = test_till_negative_step(); // 15
    int8:r3 = test_till_larger_step();   // 20
    return 0;
};
