// Test stack allocation optimization for primitives
// Before: All primitives heap-allocated with GC
// After: Primitives stack-allocated for 10-100x performance

func:stack_primitives = *int64() {
    // All these should be stack-allocated (no GC calls)
    int8:a = 1;
    int16:b = 2;
    int32:c = 3;
    int64:d = 4;
    
    bool:flag = true;
    
    // Arithmetic should still work
    int64:sum = a + b + c + d;
    
    return sum;
};

func:explicit_heap = *int64() {
    // This should still use GC (complex type or explicitly marked)
    // For now, testing that stack primitives work
    int64:x = 100;
    int64:y = 200;
    
    return x + y;
};

func:main = *int64() {
    int64:result1 = stack_primitives() ? -1;
    int64:result2 = explicit_heap() ? -1;
    
    return result1 + result2;
};
